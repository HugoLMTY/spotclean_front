{"version":3,"sources":["./src/app/pages/bins/bins-routing.module.ts","./src/app/pages/bins/bins.module.ts","./src/app/pages/bins/bins.component.html","./src/app/pages/bins/bins.component.ts"],"names":[],"mappings":"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","file":"src-app-pages-bins-bins-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BinsComponent } from './bins.component';\n\nconst routes: Routes = [\n\t{ path: '', component: BinsComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BinsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BinsRoutingModule } from './bins-routing.module';\nimport { BinsComponent } from './bins.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n\n@NgModule({\n  declarations: [\n    BinsComponent\n  ],\n  imports: [\n    CommonModule,\n    BinsRoutingModule,\n\tComponentsModule,\n  ]\n})\nexport class BinsModule { }\n","<div class=\"container row\">\n\n\t<div *ngFor=\"let bin of bins\" class=\"p-2\">\n\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<h5 class=\"card-title\"> {{ bin.name }} </h5>\n\t\t\t\t<p class=\"card-text\">\n\n\t\t\t\t\t<!-- <fa-icon [icon]=\"faLocation\"></fa-icon> -->\n\t\t\t\t\t\n\t\t\t\t\t{{ bin.address.city }}, au {{ bin.address.number }} {{ bin.address.street }}. <br>\n\t\t\t\t\tElle a été créée le {{ bin.createdAt | date }} et visitée un total de {{ bin.userVisits.length }}\n\t\t\t\t\tfois.<br>\n\n\t\t\t\t\t<span *ngIf=\"currentUser && bin.userVisitsCount > 0\">\n\t\t\t\t\t\tVous même avez visité cette poubelle {{ bin.userVisitsCount }} fois.\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span *ngIf=\"currentUser && bin.userVisitsCount == 0\">\n\t\t\t\t\t\tVous n'avez pas encore visité cette poubelle.\n\t\t\t\t\t</span>\n\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<table class=\"table\" *ngIf=\"bin.sortedUserVisits.length !== 0\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\">User</th>\n\t\t\t\t\t\t<th scope=\"col\">Points</th>\n\t\t\t\t\t\t<th scope=\"col\">Count</th>\n\t\t\t\t\t\t<th scope=\"col\">Date</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr *ngFor=\"let userVisit of bin.sortedUserVisits\" class=\"user-topscore-holder\">\n\t\t\t\t\t\t<td>{{ userVisit.userId }}</td>\n\t\t\t\t\t\t<td>{{ userVisit.points }}</td>\n\t\t\t\t\t\t<td>{{ userVisit.count }}</td>\n\t\t\t\t\t\t<td>{{ userVisit.date | date }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<div class=\"card-footer text-muted\">\n\t\t\t\t<button class=\"btn btn-primary\">Voir sur la carte</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<nav class=\"mt-5\">\n\t\t<ul class=\"pagination\">\n\t\t  <li class=\"page-item disabled\">\n\t\t\t<a class=\"page-link\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\n\t\t  </li>\n\t\t  <li class=\"page-item\"><a class=\"page-link\">1</a></li>\n\t\t  <li class=\"page-item active\" aria-current=\"page\">\n\t\t\t<a class=\"page-link\">2</a>\n\t\t  </li>\n\t\t  <li class=\"page-item\"><a class=\"page-link\">3</a></li>\n\t\t  <li class=\"page-item\">\n\t\t\t<a class=\"page-link\">Next</a>\n\t\t  </li>\n\t\t</ul>\n\t  </nav>\n\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'app-bins',\n\ttemplateUrl: './bins.component.html',\n\tstyleUrls: ['./bins.component.scss']\n})\nexport class BinsComponent implements OnInit {\n\n\tconstructor() { }\n\n\tpublic currentUser: any\n\n\tpublic bins: Array<any> = [\n\t\t{\n\t\t\t_id: '420',\n\t\t\tname: 'Bin 1',\n\t\t\tlocation: [0, 0],\n\t\t\taddress: {\n\t\t\t\tcity: 'Paris',\n\t\t\t\tstreet: 'rue de la paix',\n\t\t\t\tnumber: '1'\n\t\t\t},\n\t\t\tcreatedAt: new Date(),\n\t\t\tfirstVisit: new Date(),\n\t\t\tlastVisit: new Date(),\n\t\t\tuserVisits: [\n\t\t\t\t{\n\t\t\t\t\tdate: new Date(),\n\t\t\t\t\tuserId: '123',\n\t\t\t\t\tcount: 4,\n\t\t\t\t\tpoints: 23\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: new Date(),\n\t\t\t\t\tuserId: '243',\n\t\t\t\t\tcount: 2,\n\t\t\t\t\tpoints: 42\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: new Date(),\n\t\t\t\t\tuserId: '543',\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tpoints: 12\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdate: new Date(),\n\t\t\t\t\tuserId: '359',\n\t\t\t\t\tcount: 34,\n\t\t\t\t\tpoints: 543\n\t\t\t\t}\n\t\t\t],\n\t\t\tuserFavoritesCount: 0,\n\t\t\trecycledTrash: [],\n\t\t},\n\t\t{\n\t\t\t_id: '421',\n\t\t\tname: 'Bin 2',\n\t\t\tlocation: [0, 0],\n\t\t\taddress: {\n\t\t\t\tcity: 'Paris',\n\t\t\t\tstreet: 'rue des champs élysées',\n\t\t\t\tnumber: '23'\n\t\t\t},\n\t\t\tcreatedAt: new Date(),\n\t\t\tfirstVisit: new Date(),\n\t\t\tlastVisit: new Date(),\n\t\t\tuserVisits: [],\n\t\t\tuserFavoritesCount: 0,\n\t\t\trecycledTrash: [],\n\t\t}\n\t]\n\n\tngOnInit(): void {\n\t\tconsole.log('beanz')\n\t\tconsole.log(this.bins)\n\t\tthis.initBinInfos()\n\t}\n\n\tinitBinInfos() {\n\t\tthis.bins.forEach(bin => {\n\t\t\tif (this.currentUser) \n\t\t\t\tbin['userVisitsCount'] = bin.userVisits.filter((visit: any) => visit.userId === this.currentUser._id).length\n\n\t\t\tbin['sortedUserVisits'] = bin.userVisits.sort((a: any, b: any) => { return b.points - a.points }).slice(0, 3)\n\t\t})\n\t}\n\n}\n"],"sourceRoot":"webpack:///"}